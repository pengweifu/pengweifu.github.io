(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{"3F3C":function(e,t,i){"use strict";var n=i("Womt"),r=i("RyHr"),o=function(){function e(){this.initScene(),this.initCamera(),this.initLight(),this.initObject(),this.initRenderer(),this.initControls(),this.animate()}return e.prototype.initScene=function(){this.scene=new n.Scene},e.prototype.initCamera=function(){this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera=new n.PerspectiveCamera(60,window.innerWidth/this.winHeight,.1,1e3),this.camera.position.x=20,this.camera.position.y=-200,this.camera.position.z=20,this.camera.lookAt(new n.Vector3(0,0,0))},e.prototype.initLight=function(){this.light=new n.DirectionalLight(16777215,1),this.light.position.set(-80,60,40),this.light.shadow.camera.far=500,this.light.shadow.camera.near=20,this.light.shadow.camera.left=-50,this.light.shadow.camera.right=50,this.light.shadow.camera.top=50,this.light.shadow.camera.bottom=-50,this.light.castShadow=!0,this.scene.add(this.light)},e.prototype.initObject=function(){},e.prototype.initRenderer=function(){var e=this;this.renderer=new n.WebGLRenderer,this.renderer.setSize(window.innerWidth,this.winHeight),this.renderer.shadowMap.enabled=!0,document.getElementById("app").appendChild(this.renderer.domElement);var t=new MutationObserver((function(i){for(var n=0,r=i;n<r.length;n++){var o=r[n];if("childList"==o.type&&o.removedNodes.length>0){t.disconnect(),e.unload(),e.clear();break}}}));t.observe(document.getElementById("app"),{childList:!0}),window.addEventListener("resize",this.resize.bind(this),!1)},e.prototype.initControls=function(){this.controls=new r.a(this.camera,this.renderer.domElement)},e.prototype.animate=function(){this.renderer&&(this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this)))},e.prototype.resize=function(){this.renderer&&(this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera.aspect=window.innerWidth/this.winHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,this.winHeight))},e.prototype.clear=function(){cancelAnimationFrame(this.animate.bind(this)),this.controls.dispose(),this.scene.dispose(),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer=null,this.scene=null,window.removeEventListener("resize",this.resize.bind(this),!1)},e.prototype.unload=function(){console.log("unload")},e}();t.a=o},vvAo:function(e,t,i){"use strict";i.r(t);var n,r=i("Womt"),o=i("3F3C"),a=i("RyHr"),s=undefined&&undefined.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(){return e.call(this)||this}return s(t,e),t.prototype.initLight=function(){},t.prototype.initCamera=function(){this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera=new r.PerspectiveCamera(30,window.innerWidth/this.winHeight,1,3e3),this.camera.position.z=6e3},t.prototype.setBackGround=function(){var e=document.createElement("canvas");e.width=1,e.height=window.innerHeight;var t=e.getContext("2d"),i=t.createLinearGradient(0,0,0,window.innerHeight);i.addColorStop(0,"#1e4877"),i.addColorStop(.5,"#4584b4"),t.fillStyle=i,t.fillRect(0,0,1,window.innerHeight),document.body.style.backgroundImage="url("+e.toDataURL("image/png")+")"},t.prototype.initObject=function(){this.start_time=Date.now(),this.setBackGround();var e=(new r.TextureLoader).load("./static/images/cloud.png",this.animate.bind(this));e.magFilter=r.LinearMipMapLinearFilter,e.minFilter=r.LinearMipMapLinearFilter;for(var t=new r.Fog(4555956,-100,3e3),i=new r.Geometry,n=new r.ShaderMaterial({vertexShader:"varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }",fragmentShader:"uniform sampler2D map;\n    uniform vec3 fogColor;\n    uniform float fogNear;\n    uniform float fogFar;\n    varying vec2 vUv;\n  \n    void main() {\n      float depth = gl_FragCoord.z / gl_FragCoord.w;\n      float fogFactor = smoothstep( fogNear, fogFar, depth );\n      gl_FragColor = texture2D( map, vUv );\n      gl_FragColor.w *= pow( gl_FragCoord.z, 20.0 );\n      gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n    }",depthWrite:!1,depthTest:!1,transparent:!0,uniforms:{map:{type:"t",value:e},fogColor:{type:"c",value:t.color},fogNear:{type:"f",value:t.near},fogFar:{type:"f",value:t.far}}}),o=new r.Mesh(new r.PlaneGeometry(64,64)),a=0;a<8e3;a++){var s=Math.random()*Math.random()*1.5+.5;o.position.set(1e3*(Math.random()-.5),-Math.random()*Math.random()*200-15,a),o.scale.set(s,s,1),o.rotation.z=Math.random()*Math.PI,o.updateMatrix(),i.merge(o.geometry,o.matrix)}var h=new r.Mesh(i,n);this.scene.add(h);var d=new r.Mesh(i,n);d.position.z=-8e3,this.scene.add(d)},t.prototype.initRenderer=function(){var e=this;this.renderer=new r.WebGLRenderer({antialias:!1,alpha:!0}),this.renderer.setSize(window.innerWidth,this.winHeight),this.renderer.shadowMap.enabled=!0,document.getElementById("app").appendChild(this.renderer.domElement);var t=new MutationObserver((function(i){for(var n=0,r=i;n<r.length;n++){var o=r[n];if("childList"==o.type&&o.removedNodes.length>0){t.disconnect(),e.unload(),e.clear();break}}}));t.observe(document.getElementById("app"),{childList:!0}),window.addEventListener("resize",this.resize.bind(this),!1)},t.prototype.initControls=function(){this.camera.position.set(0,0,1e3),this.controls=new a.a(this.camera,this.renderer.domElement),this.controls.enabled=!1},t.prototype.animate=function(){this.renderer&&(this.camera.position.x-=.01*this.camera.position.x,this.camera.position.x-=.01*this.camera.position.y,this.camera.position.z=8e3-.03*(Date.now()-this.start_time)%8e3,this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this)))},t}(o.a);t["default"]=h}}]);