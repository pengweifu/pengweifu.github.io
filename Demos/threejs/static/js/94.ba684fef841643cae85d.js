(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{"3F3C":function(e,t,i){"use strict";var n=i("Womt"),r=i("RyHr"),o=function(){function e(){this.initScene(),this.initCamera(),this.initLight(),this.initObject(),this.initRenderer(),this.initControls(),this.animate()}return e.prototype.initScene=function(){this.scene=new n.Scene},e.prototype.initCamera=function(){this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera=new n.PerspectiveCamera(60,window.innerWidth/this.winHeight,.1,1e3),this.camera.position.x=20,this.camera.position.y=-200,this.camera.position.z=20,this.camera.lookAt(new n.Vector3(0,0,0))},e.prototype.initLight=function(){this.light=new n.DirectionalLight(16777215,1),this.light.position.set(-80,60,40),this.light.shadow.camera.far=500,this.light.shadow.camera.near=20,this.light.shadow.camera.left=-50,this.light.shadow.camera.right=50,this.light.shadow.camera.top=50,this.light.shadow.camera.bottom=-50,this.light.castShadow=!0,this.scene.add(this.light)},e.prototype.initObject=function(){},e.prototype.initRenderer=function(){var e=this;this.renderer=new n.WebGLRenderer,this.renderer.setSize(window.innerWidth,this.winHeight),this.renderer.shadowMap.enabled=!0,document.getElementById("app").appendChild(this.renderer.domElement);var t=new MutationObserver((function(i){for(var n=0,r=i;n<r.length;n++){var o=r[n];if("childList"==o.type&&o.removedNodes.length>0){t.disconnect(),e.unload(),e.clear();break}}}));t.observe(document.getElementById("app"),{childList:!0}),window.addEventListener("resize",this.resize.bind(this),!1)},e.prototype.initControls=function(){this.controls=new r.a(this.camera,this.renderer.domElement)},e.prototype.animate=function(){this.renderer&&(this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this)))},e.prototype.resize=function(){this.renderer&&(this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera.aspect=window.innerWidth/this.winHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,this.winHeight))},e.prototype.clear=function(){cancelAnimationFrame(this.animate.bind(this)),this.controls.dispose(),this.scene.dispose(),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer=null,this.scene=null,window.removeEventListener("resize",this.resize.bind(this),!1)},e.prototype.unload=function(){console.log("unload")},e}();t.a=o},"7sQ0":function(e,t,i){"use strict";i.r(t);var n,r=i("3F3C"),o=i("Womt"),s=undefined&&undefined.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(){return e.call(this)||this}return s(t,e),t.prototype.initObject=function(){for(var e=new Float32Array(7500),t=new Float32Array(2500),i=0,n=0,r=0;r<50;r++)for(var s=0;s<50;s++)e[i]=100*r-2500,e[i+1]=0,e[i+2]=100*s-2500,t[n]=1,i+=3,n++;var a=new o.BufferGeometry;a.addAttribute("position",new o.BufferAttribute(e,3)),a.addAttribute("scale",new o.BufferAttribute(t,1));var h=new o.ShaderMaterial({uniforms:{color:{value:new o.Color(44543)}},vertexShader:"attribute float scale;void main() {vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );gl_PointSize = scale * ( 300.0 / - mvPosition.z );gl_Position = projectionMatrix * mvPosition;}",fragmentShader:"uniform vec3 color;void main() {if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;gl_FragColor = vec4( color, 1.0 );}"});this.obj=new o.Points(a,h),this.scene.add(this.obj),document.getElementById("app").style.backgroundImage="radial-gradient(#00418e, #15114e)"},t.prototype.initRenderer=function(){var e=this;this.renderer=new o.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,this.winHeight),this.renderer.shadowMap.enabled=!0,document.getElementById("app").appendChild(this.renderer.domElement);var t=new MutationObserver((function(i){for(var n=0,r=i;n<r.length;n++){var o=r[n];if("childList"==o.type&&o.removedNodes.length>0){t.disconnect(),e.unload(),e.clear();break}}}));t.observe(document.getElementById("app"),{childList:!0}),window.addEventListener("resize",this.resize.bind(this),!1)},t.prototype.animate=function(){if(this.renderer){this.controls.enabled=!1,this.renderer.setClearAlpha(.5);var e=this.obj.geometry.attributes.position.array,t=this.obj.geometry.attributes.scale.array,i=0,n=0;isNaN(this.count)&&(this.count=0),this.count+=.05;for(var r=0;r<50;r++)for(var o=0;o<50;o++)e[i+1]=50*Math.sin(.3*(r+this.count))+50*Math.sin(.5*(o+this.count)),t[n]=8*(Math.sin(.3*(r+this.count))+1)+8*(Math.sin(.5*(o+this.count))+1),i+=3,n++;this.obj.geometry.attributes.position.needsUpdate=!0,this.obj.geometry.attributes.scale.needsUpdate=!0,this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this))}},t.prototype.initCamera=function(){this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera=new o.PerspectiveCamera(75,window.innerWidth/this.winHeight,1,1e3),this.camera.position.x=0,this.camera.position.y=100,this.camera.position.z=1e3},t}(r.a);t["default"]=a}}]);