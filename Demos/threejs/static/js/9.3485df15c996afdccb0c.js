(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"3F3C":function(t,e,i){"use strict";var r=i("Womt"),s=i("RyHr"),a=function(){function t(){this.initScene(),this.initCamera(),this.initLight(),this.initObject(),this.initRenderer(),this.initControls(),this.animate()}return t.prototype.initScene=function(){this.scene=new r.Scene},t.prototype.initCamera=function(){this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera=new r.PerspectiveCamera(60,window.innerWidth/this.winHeight,.1,1e3),this.camera.position.x=20,this.camera.position.y=-200,this.camera.position.z=20,this.camera.lookAt(new r.Vector3(0,0,0))},t.prototype.initLight=function(){this.light=new r.DirectionalLight(16777215,1),this.light.position.set(-80,60,40),this.light.shadow.camera.far=500,this.light.shadow.camera.near=20,this.light.shadow.camera.left=-50,this.light.shadow.camera.right=50,this.light.shadow.camera.top=50,this.light.shadow.camera.bottom=-50,this.light.castShadow=!0,this.scene.add(this.light)},t.prototype.initObject=function(){},t.prototype.initRenderer=function(){var t=this;this.renderer=new r.WebGLRenderer,this.renderer.setSize(window.innerWidth,this.winHeight),this.renderer.shadowMap.enabled=!0,document.getElementById("app").appendChild(this.renderer.domElement);var e=new MutationObserver((function(i){for(var r=0,s=i;r<s.length;r++){var a=s[r];if("childList"==a.type&&a.removedNodes.length>0){e.disconnect(),t.unload(),t.clear();break}}}));e.observe(document.getElementById("app"),{childList:!0}),window.addEventListener("resize",this.resize.bind(this),!1)},t.prototype.initControls=function(){this.controls=new s.a(this.camera,this.renderer.domElement)},t.prototype.animate=function(){this.renderer&&(this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this)))},t.prototype.resize=function(){this.renderer&&(this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera.aspect=window.innerWidth/this.winHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,this.winHeight))},t.prototype.clear=function(){cancelAnimationFrame(this.animate.bind(this)),this.controls.dispose(),this.scene.dispose(),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer=null,this.scene=null,window.removeEventListener("resize",this.resize.bind(this),!1)},t.prototype.unload=function(){console.log("unload")},t}();e.a=a},"5kJi":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i("Womt"),s=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,i=/^usemtl /;function s(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var i=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():undefined;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var i=this._finalize(!1);i&&(i.inherited||i.groupCount<=0)&&this.materials.splice(i.index,1);var r={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:i!==undefined?i.smooth:this.smooth,groupStart:i!==undefined?i.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){return this.materials.length>0?this.materials[this.materials.length-1]:undefined},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var i=this.materials.length-1;i>=0;i--)this.materials[i].groupCount<=0&&this.materials.splice(i,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},i&&i.name&&"function"==typeof i.clone){var r=i.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseNormalIndex:function(t,e){var i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseUVIndex:function(t,e){var i=parseInt(t,10);return 2*(i>=0?i-1:i+e/2)},addVertex:function(t,e,i){var r=this.vertices,s=this.object.geometry.vertices;s.push(r[t+0],r[t+1],r[t+2]),s.push(r[e+0],r[e+1],r[e+2]),s.push(r[i+0],r[i+1],r[i+2])},addVertexPoint:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,i){var r=this.normals,s=this.object.geometry.normals;s.push(r[t+0],r[t+1],r[t+2]),s.push(r[e+0],r[e+1],r[e+2]),s.push(r[i+0],r[i+1],r[i+2])},addColor:function(t,e,i){var r=this.colors,s=this.object.geometry.colors;s.push(r[t+0],r[t+1],r[t+2]),s.push(r[e+0],r[e+1],r[e+2]),s.push(r[i+0],r[i+1],r[i+2])},addUV:function(t,e,i){var r=this.uvs,s=this.object.geometry.uvs;s.push(r[t+0],r[t+1]),s.push(r[e+0],r[e+1]),s.push(r[i+0],r[i+1])},addUVLine:function(t){var e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,i,r,s,a,n,o,h){var l=this.vertices.length,c=this.parseVertexIndex(t,l),p=this.parseVertexIndex(e,l),u=this.parseVertexIndex(i,l);if(this.addVertex(c,p,u),this.colors.length>0&&this.addColor(c,p,u),r!==undefined&&""!==r){var d=this.uvs.length;c=this.parseUVIndex(r,d),p=this.parseUVIndex(s,d),u=this.parseUVIndex(a,d),this.addUV(c,p,u)}if(n!==undefined&&""!==n){var m=this.normals.length;c=this.parseNormalIndex(n,m),p=n===o?c:this.parseNormalIndex(o,m),u=n===h?c:this.parseNormalIndex(h,m),this.addNormal(c,p,u)}},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,i=0,r=t.length;i<r;i++)this.addVertexPoint(this.parseVertexIndex(t[i],e))},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var i=this.vertices.length,r=this.uvs.length,s=0,a=t.length;s<a;s++)this.addVertexLine(this.parseVertexIndex(t[s],i));var n=0;for(a=e.length;n<a;n++)this.addUVLine(this.parseUVIndex(e[n],r))}};return t.startObject("",!1),t}function a(t){r.Loader.call(this,t),this.materials=null}return a.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:a,load:function(t,e,i,s){var a=this,n=new r.FileLoader(a.manager);n.setPath(this.path),n.load(t,(function(t){e(a.parse(t))}),i,s)},setMaterials:function(t){return this.materials=t,this},parse:function(a){console.time("OBJLoader");var n=new s;-1!==a.indexOf("\r\n")&&(a=a.replace(/\r\n/g,"\n")),-1!==a.indexOf("\\\n")&&(a=a.replace(/\\\n/g,""));for(var o=a.split("\n"),h="",l="",c=[],p="function"==typeof"".trimLeft,u=0,d=o.length;u<d;u++)if(h=o[u],0!==(h=p?h.trimLeft():h.trim()).length&&"#"!==(l=h.charAt(0)))if("v"===l){var m=h.split(/\s+/);switch(m[0]){case"v":n.vertices.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),m.length>=7&&n.colors.push(parseFloat(m[4]),parseFloat(m[5]),parseFloat(m[6]));break;case"vn":n.normals.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));break;case"vt":n.uvs.push(parseFloat(m[1]),parseFloat(m[2]))}}else if("f"===l){for(var f=h.substr(1).trim().split(/\s+/),g=[],v=0,b=f.length;v<b;v++){var w=f[v];if(w.length>0){var y=w.split("/");g.push(y)}}var x=g[0];for(v=1,b=g.length-1;v<b;v++){var L=g[v],j=g[v+1];n.addFace(x[0],L[0],j[0],x[1],L[1],j[1],x[2],L[2],j[2])}}else if("l"===l){var M=h.substring(1).trim().split(" "),C=[],k=[];if(-1===h.indexOf("/"))C=M;else for(var F=0,O=M.length;F<O;F++){var I=M[F].split("/");""!==I[0]&&C.push(I[0]),""!==I[1]&&k.push(I[1])}n.addLineGeometry(C,k)}else if("p"===l){var A=h.substr(1).trim().split(" ");n.addPointGeometry(A)}else if(null!==(c=t.exec(h))){var V=(" "+c[0].substr(1).trim()).substr(1);n.startObject(V)}else if(i.test(h))n.object.startMaterial(h.substring(7).trim(),n.materialLibraries);else if(e.test(h))n.materialLibraries.push(h.substring(7).trim());else{if("s"!==l){if("\0"===h)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+h+'"')}if((c=h.split(" ")).length>1){var P=c[1].trim().toLowerCase();n.object.smooth="0"!==P&&"off"!==P}else n.object.smooth=!0;(J=n.object.currentMaterial())&&(J.smooth=n.object.smooth)}n.finalize();var _=new r.Group;_.materialLibraries=[].concat(n.materialLibraries);for(u=0,d=n.objects.length;u<d;u++){var z=n.objects[u],B=z.geometry,E=z.materials,S="Line"===B.type,U="Points"===B.type,H=!1;if(0!==B.vertices.length){var R=new r.BufferGeometry;R.addAttribute("position",new r.Float32BufferAttribute(B.vertices,3)),B.normals.length>0?R.addAttribute("normal",new r.Float32BufferAttribute(B.normals,3)):R.computeVertexNormals(),B.colors.length>0&&(H=!0,R.addAttribute("color",new r.Float32BufferAttribute(B.colors,3))),B.uvs.length>0&&R.addAttribute("uv",new r.Float32BufferAttribute(B.uvs,2));for(var G,N=[],W=0,T=E.length;W<T;W++){var D=E[W],J=undefined;if(null!==this.materials)if(J=this.materials.create(D.name),!S||!J||J instanceof r.LineBasicMaterial){if(U&&J&&!(J instanceof r.PointsMaterial)){var Y=new r.PointsMaterial({size:10,sizeAttenuation:!1});r.Material.prototype.copy.call(Y,J),Y.color.copy(J.color),Y.map=J.map,J=Y}}else{var q=new r.LineBasicMaterial;r.Material.prototype.copy.call(q,J),q.color.copy(J.color),J=q}J||((J=S?new r.LineBasicMaterial:U?new r.PointsMaterial({size:1,sizeAttenuation:!1}):new r.MeshPhongMaterial).name=D.name),J.flatShading=!D.smooth,J.vertexColors=H?r.VertexColors:r.NoColors,N.push(J)}if(N.length>1){for(W=0,T=E.length;W<T;W++){D=E[W];R.addGroup(D.groupStart,D.groupCount,W)}G=S?new r.LineSegments(R,N):U?new r.Points(R,N):new r.Mesh(R,N)}else G=S?new r.LineSegments(R,N[0]):U?new r.Points(R,N[0]):new r.Mesh(R,N[0]);G.name=z.name,_.add(G)}}return console.timeEnd("OBJLoader"),_}}),a}()},QIYC:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i("Womt"),s=function(t){r.Loader.call(this,t)};s.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:s,load:function(t,e,i,s){var a=this,n=""===this.path?r.LoaderUtils.extractUrlBase(t):this.path,o=new r.FileLoader(this.manager);o.setPath(this.path),o.load(t,(function(t){e(a.parse(t,n))}),i,s)},setMaterialOptions:function(t){return this.materialOptions=t,this},parse:function(t,e){for(var i=t.split("\n"),r={},a=/\s+/,n={},o=0;o<i.length;o++){var h=i[o];if(0!==(h=h.trim()).length&&"#"!==h.charAt(0)){var l=h.indexOf(" "),c=l>=0?h.substring(0,l):h;c=c.toLowerCase();var p=l>=0?h.substring(l+1):"";if(p=p.trim(),"newmtl"===c)r={name:p},n[p]=r;else if("ka"===c||"kd"===c||"ks"===c||"ke"===c){var u=p.split(a,3);r[c]=[parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2])]}else r[c]=p}}var d=new s.MaterialCreator(this.resourcePath||e,this.materialOptions);return d.setCrossOrigin(this.crossOrigin),d.setManager(this.manager),d.setMaterials(n),d}}),s.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:r.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:r.RepeatWrapping},s.MaterialCreator.prototype={constructor:s.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(t){return this.crossOrigin=t,this},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var i in t){var r=t[i],s={};for(var a in e[i]=s,r){var n=!0,o=r[a],h=a.toLowerCase();switch(h){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(o=[o[0]/255,o[1]/255,o[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===o[0]&&0===o[1]&&0===o[2]&&(n=!1)}n&&(s[h]=o)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return this.materials[t]===undefined&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,i=this.materialsInfo[t],s={name:t,side:this.side};function a(t,i){if(!s[t]){var r,a,n=e.getTextureParams(i,s),o=e.loadTexture((r=e.baseUrl,"string"!=typeof(a=n.url)||""===a?"":/^https?:\/\//i.test(a)?a:r+a));o.repeat.copy(n.scale),o.offset.copy(n.offset),o.wrapS=e.wrap,o.wrapT=e.wrap,s[t]=o}}for(var n in i){var o,h=i[n];if(""!==h)switch(n.toLowerCase()){case"kd":s.color=(new r.Color).fromArray(h);break;case"ks":s.specular=(new r.Color).fromArray(h);break;case"ke":s.emissive=(new r.Color).fromArray(h);break;case"map_kd":a("map",h);break;case"map_ks":a("specularMap",h);break;case"map_ke":a("emissiveMap",h);break;case"norm":a("normalMap",h);break;case"map_bump":case"bump":a("bumpMap",h);break;case"map_d":a("alphaMap",h),s.transparent=!0;break;case"ns":s.shininess=parseFloat(h);break;case"d":(o=parseFloat(h))<1&&(s.opacity=o,s.transparent=!0);break;case"tr":o=parseFloat(h),this.options&&this.options.invertTrProperty&&(o=1-o),o>0&&(s.opacity=1-o,s.transparent=!0)}}return this.materials[t]=new r.MeshPhongMaterial(s),this.materials[t]},getTextureParams:function(t,e){var i,s={scale:new r.Vector2(1,1),offset:new r.Vector2(0,0)},a=t.split(/\s+/);return(i=a.indexOf("-bm"))>=0&&(e.bumpScale=parseFloat(a[i+1]),a.splice(i,2)),(i=a.indexOf("-s"))>=0&&(s.scale.set(parseFloat(a[i+1]),parseFloat(a[i+2])),a.splice(i,4)),(i=a.indexOf("-o"))>=0&&(s.offset.set(parseFloat(a[i+1]),parseFloat(a[i+2])),a.splice(i,4)),s.url=a.join(" ").trim(),s},loadTexture:function(t,e,i,s,a){var n,o=this.manager!==undefined?this.manager:r.DefaultLoadingManager,h=o.getHandler(t);return null===h&&(h=new r.TextureLoader(o)),h.setCrossOrigin&&h.setCrossOrigin(this.crossOrigin),n=h.load(t,i,s,a),e!==undefined&&(n.mapping=e),n}}},YN8e:function(t,e,i){"use strict";i.r(e);var r,s=i("3F3C"),a=i("Womt"),n=i("QIYC"),o=i("5kJi"),h=undefined&&undefined.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(){return t.call(this)||this}return h(e,t),e.prototype.initObject=function(){var t=this;this.camera.position.x=.5,this.camera.position.y=.5,this.camera.position.z=.5;var e=new n.a;e.setPath("./static/models/"),e.load("butterfly.mtl",(function(e){var i=new o.a;i.setMaterials(e),i.load("./static/models/butterfly.obj",(function(e){for(var i=4;i<6;i++){var r=e.children[i];r.material instanceof a.MeshPhongMaterial&&(r.material.opacity=.6,r.material.transparent=!0,r.material.depthTest=!1,r.material.side=a.DoubleSide)}e.scale.set(2,2,2),t.scene.add(e)}))}))},e.prototype.initLight=function(){this.light=new a.DirectionalLight(16777215,2),this.light.position.set(2,2,2),this.light.castShadow=!0,this.scene.add(this.light)},e.prototype.animate=function(){this.renderer&&(this.controls.autoRotate=!0,this.controls.update(),this.renderer.setClearColor(16777215),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this)))},e}(s.a);e["default"]=l}}]);