(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3F3C":function(e,t,i){"use strict";var n=i("Womt"),o=i("RyHr"),r=function(){function e(){this.initScene(),this.initCamera(),this.initLight(),this.initObject(),this.initRenderer(),this.initControls(),this.animate()}return e.prototype.initScene=function(){this.scene=new n.Scene},e.prototype.initCamera=function(){this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera=new n.PerspectiveCamera(60,window.innerWidth/this.winHeight,.1,1e3),this.camera.position.x=20,this.camera.position.y=-200,this.camera.position.z=20,this.camera.lookAt(new n.Vector3(0,0,0))},e.prototype.initLight=function(){this.light=new n.DirectionalLight(16777215,1),this.light.position.set(-80,60,40),this.light.shadow.camera.far=500,this.light.shadow.camera.near=20,this.light.shadow.camera.left=-50,this.light.shadow.camera.right=50,this.light.shadow.camera.top=50,this.light.shadow.camera.bottom=-50,this.light.castShadow=!0,this.scene.add(this.light)},e.prototype.initObject=function(){},e.prototype.initRenderer=function(){var e=this;this.renderer=new n.WebGLRenderer,this.renderer.setSize(window.innerWidth,this.winHeight),this.renderer.shadowMap.enabled=!0,document.getElementById("app").appendChild(this.renderer.domElement);var t=new MutationObserver((function(i){for(var n=0,o=i;n<o.length;n++){var r=o[n];if("childList"==r.type&&r.removedNodes.length>0){t.disconnect(),e.unload(),e.clear();break}}}));t.observe(document.getElementById("app"),{childList:!0}),window.addEventListener("resize",this.resize.bind(this),!1)},e.prototype.initControls=function(){this.controls=new o.a(this.camera,this.renderer.domElement)},e.prototype.animate=function(){this.renderer&&(this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this)))},e.prototype.resize=function(){this.renderer&&(this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera.aspect=window.innerWidth/this.winHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,this.winHeight))},e.prototype.clear=function(){cancelAnimationFrame(this.animate.bind(this)),this.controls.dispose(),this.scene.dispose(),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer=null,this.scene=null,window.removeEventListener("resize",this.resize.bind(this),!1)},e.prototype.unload=function(){console.log("unload")},e}();t.a=r},gH5f:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Womt"),o={createMultiMaterialObject:function(e,t){for(var i=new n.Group,o=0,r=t.length;o<r;o++)i.add(new n.Mesh(e,t[o]));return i},detach:function(e,t,i){console.warn("THREE.SceneUtils: detach() has been deprecated. Use scene.attach( child ) instead."),i.attach(e)},attach:function(e,t,i){console.warn("THREE.SceneUtils: attach() has been deprecated. Use parent.attach( child ) instead."),i.attach(e)}}},j4lU:function(e,t,i){"use strict";i.r(t);var n,o=i("3F3C"),r=i("Womt"),s=i("gH5f"),a=i("iZKT"),h=undefined&&undefined.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e){function t(){return e.call(this)||this}return h(t,e),t.prototype.initObject=function(){var e=new r.PlaneGeometry(100,50,1,1),t=new r.MeshLambertMaterial({color:13421772}),i=new r.Mesh(e,t);i.receiveShadow=!0,i.rotation.x=-.5*Math.PI,this.scene.add(i);var n=new r.BoxGeometry(20,20,20,20),o=new r.MeshDepthMaterial,h=new r.MeshBasicMaterial({color:16711680,transparent:!0,blending:r.MultiplyBlending});this.obj=s.a.createMultiMaterialObject(n,[o,h]),this.obj.position.y=10,this.obj.castShadow=!0,this.scene.add(this.obj),this.gui=new a.a,this.gui.add(this,"saveScene"),this.gui.add(this,"clearScene"),this.gui.add(this,"loadScene")},t.prototype.saveScene=function(){var e=JSON.stringify(this.scene.toJSON());localStorage.setItem("scene",e)},t.prototype.clearScene=function(){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0])},t.prototype.loadScene=function(){var e=localStorage.getItem("scene");if(e){var t=new r.ObjectLoader;this.scene=t.parse(JSON.parse(e))}},t.prototype.initCamera=function(){this.winHeight=window.innerHeight-document.getElementById("app").getBoundingClientRect().top,this.camera=new r.PerspectiveCamera(60,window.innerWidth/this.winHeight,50,100),this.camera.position.x=10,this.camera.position.y=50,this.camera.position.z=-60,this.camera.lookAt(new r.Vector3(0,0,0));var e=new r.AxesHelper(100);this.scene.add(e)},t.prototype.initLight=function(){var e=new r.PointLight(16777215,2,100),t=new r.AmbientLight(13421772);e.position.set(20,20,-50),this.scene.add(e),this.scene.add(t);var i=new r.SpotLight(16777215);i.position.set(25,100,0),i.castShadow=!0,i.distance=120,this.scene.add(i)},t.prototype.unload=function(){this.gui.destroy()},t}(o.a);t["default"]=c}}]);